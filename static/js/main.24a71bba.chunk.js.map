{"version":3,"sources":["Book.js","Loader.js","components/Modal.js","App.js","index.js"],"names":["Book","title","authors","smallimg","inStock","className","src","alt","onClick","window","open","disabled","Loader","Modal","reason","closeModal","App","useState","books","setBooks","searchText","setSearchText","currBook","setCurrBook","lastItem","setLastItem","isLoading","setIsLoading","isLoadingMore","setIsLoadingMore","showModalSeacrch","setShowModalSeacrch","showModalMore","setShowModalMore","useEffect","axios","get","then","response","data","items","type","onChange","e","target","value","placeholder","document","body","style","overflow","search","replace","toLowerCase","marginTop","map","book","volumeInfo","imageLinks","thumbnail","saleInfo","buyLink","newBooks","ReactDOM","render","StrictMode","getElementById"],"mappings":"4RAiBeA,EAfF,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,QACtC,OACI,sBAAKC,UAAU,OAAf,UACI,gCACI,6BAAKJ,IACL,4BAAIC,OAER,8BACA,qBAAKI,IAAKH,GAAsB,sCAAuCI,IAAKN,MAE5E,wBAAQO,QAAS,WAAOC,OAAOC,KAAKN,EAAS,WAAYO,UAAUP,EAAnE,qBCEGQ,G,YAXA,WACX,OACI,sBAAKP,UAAU,WAAf,UACI,wBACA,wBACA,wBACA,6BCGGQ,G,MATD,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,WACpB,OACI,sBAAKV,UAAU,aAAf,UACI,6BAAKS,IACD,wBAAQN,QAASO,EAAjB,qBCqHDC,MArHf,WACI,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAoCF,mBAAS,IAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAAgCJ,mBAAS,0BAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAAgCN,mBAAS,GAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAAkCR,oBAAS,GAA3C,mBAAOS,EAAP,KAAkBC,EAAlB,KACA,EAA0CV,oBAAS,GAAnD,mBAAOW,EAAP,KAAsBC,EAAtB,KACA,EAAgDZ,oBAAS,GAAzD,mBAAOa,EAAP,KAAyBC,EAAzB,KACA,EAA0Cd,oBAAS,GAAnD,mBAAOe,EAAP,KAAsBC,EAAtB,KAgEA,OA1CAC,qBAAU,WACNP,GAAa,GACbQ,IACKC,IADL,wDAEyDd,EAFzD,8DAIKe,MAAK,SAACC,GACHnB,EAASmB,EAASC,KAAKC,OACvBb,GAAa,MAErBF,EAAYD,EAAW,KACxB,IAgCC,sBAAKnB,UAAU,YAAf,UACI,6CACA,uBACIoC,KAAK,OACLC,SAAU,SAACC,GAAD,OAAOtB,EAAcsB,EAAEC,OAAOC,QACxCA,MAAOzB,EACP0B,YAAa,oBAEjB,wBAAQtC,QAtCG,WACf,IAAKY,EAGD,OAFAW,GAAoB,QACpBgB,SAASC,KAAKC,MAAMC,SAAW,UAGnCvB,GAAa,GACb,IAAIwB,EAAS/B,EAAWgC,QAAQ,IAAK,KAAKC,cAC1C9B,EAAY4B,GACZhB,IACKC,IADL,wDAEyDe,EAFzD,8DAIKd,MAAK,SAACC,GACHnB,EAASmB,EAASC,KAAKC,OACvBb,GAAa,MAErBN,EAAc,IACdI,EAAYD,EAAW,IAoBnB,oBACA,qBAAKyB,MAAO,CAAEK,UAAW,QAAzB,SAAoC5B,GAAa,cAAC,EAAD,MACjD,qBAAKrB,UAAU,QAAf,SACKa,EACGA,EAAMqC,KAAI,SAACC,GAAD,aACN,cAAC,EAAD,CACIvD,MAAOuD,EAAKC,WAAWxD,MACvBC,QAASsD,EAAKC,WAAWvD,QACzBC,SAAQ,UAAEqD,EAAKC,WAAWC,kBAAlB,aAAE,EAA4BC,UACtCvD,QAASoD,EAAKI,SAASC,aAE1B,4CAEZjC,EACG,cAAC,EAAD,IAEA,wBAAQpB,QAtFE,WAClBqB,GAAiB,GACjBM,IACKC,IADL,wDAEyDd,EAFzD,oCAE6FE,EAF7F,iDAIKa,MAAK,SAACC,GACH,GAAIA,EAASC,KAAKC,MAAO,CACrB,IAAIsB,EAAQ,sBAAO5C,GAAP,YAAiBoB,EAASC,KAAKC,QAC3CrB,EAAS2C,QAET7B,GAAiB,GACjBc,SAASC,KAAKC,MAAMC,SAAW,SAEnCrB,GAAiB,MAEzBJ,EAAYD,EAAW,IAsEiByB,MAAO,CAAEK,UAAW,QAApD,kBAIHxB,GACG,cAAC,EAAD,CACIhB,OAAQ,iBACRC,WAzCS,WACrBgB,GAAoB,GACpBgB,SAASC,KAAKC,MAAMC,SAAW,UA0C1BlB,GACG,cAAC,EAAD,CACIlB,OAAQ,gBACRC,WA3CO,WACnBkB,GAAiB,GACjBc,SAASC,KAAKC,MAAMC,SAAW,cCxEvCa,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFlB,SAASmB,eAAe,W","file":"static/js/main.24a71bba.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Book.css\";\r\nconst Book = ({ title, authors, smallimg, inStock }) => {\r\n    return (\r\n        <div className=\"item\">\r\n            <div>\r\n                <h3>{title}</h3>\r\n                <p>{authors}</p>\r\n            </div>\r\n            <div>\r\n            <img src={smallimg ? smallimg : \"https://via.placeholder.com/128x200\"} alt={title} />\r\n            </div>\r\n            <button onClick={() => {window.open(inStock, \"_blank\")}} disabled={inStock ? false : true}>Buy</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Book;\r\n","import React from \"react\";\r\nimport \"./Loader.css\";\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"lds-ring\">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport \"./Modal.css\";\r\n\r\nconst Modal = ({reason, closeModal}) => {\r\n    return (\r\n        <div className=\"background\">\r\n            <h3>{reason}</h3>\r\n                <button onClick={closeModal}>Ok</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal;","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport Book from \"./Book\";\nimport \"./App.css\";\nimport Loader from \"./Loader\";\nimport Modal from \"./components/Modal\";\n\nfunction App() {\n    const [books, setBooks] = useState([]);\n    const [searchText, setSearchText] = useState(\"\");\n    const [currBook, setCurrBook] = useState(\"flowers+inauthor:keyes\");\n    const [lastItem, setLastItem] = useState(0);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isLoadingMore, setIsLoadingMore] = useState(false);\n    const [showModalSeacrch, setShowModalSeacrch] = useState(false);\n    const [showModalMore, setShowModalMore] = useState(false);\n\n\n    const onPageChanged = () => {\n        setIsLoadingMore(true);\n        axios\n            .get(\n                `https://www.googleapis.com/books/v1/volumes?q=${currBook}&maxResults=9&startIndex=${lastItem}&key=AIzaSyDrkICrYDmr7VGdDa3dlc0BvTIus_4fTR4`\n            )\n            .then((response) => {\n                if (response.data.items) {\n                    let newBooks = [...books, ...response.data.items];\n                    setBooks(newBooks);\n                } else {\n                    setShowModalMore(true);\n                    document.body.style.overflow = \"hidden\";\n                }\n                setIsLoadingMore(false);\n            });\n        setLastItem(lastItem + 9);\n    };\n\n    useEffect(() => {\n        setIsLoading(true);\n        axios\n            .get(\n                `https://www.googleapis.com/books/v1/volumes?q=${currBook}&maxResults=9&key=AIzaSyDrkICrYDmr7VGdDa3dlc0BvTIus_4fTR4`\n            )\n            .then((response) => {\n                setBooks(response.data.items);\n                setIsLoading(false);\n            });\n        setLastItem(lastItem + 9);\n    }, []);\n\n    const searchBook = () => {\n        if (!searchText) {\n            setShowModalSeacrch(true);\n            document.body.style.overflow = \"hidden\";\n            return;\n        }\n        setIsLoading(true);\n        let search = searchText.replace(\" \", \"+\").toLowerCase();\n        setCurrBook(search);\n        axios\n            .get(\n                `https://www.googleapis.com/books/v1/volumes?q=${search}&maxResults=9&key=AIzaSyDrkICrYDmr7VGdDa3dlc0BvTIus_4fTR4`\n            )\n            .then((response) => {\n                setBooks(response.data.items);\n                setIsLoading(false);\n            });\n        setSearchText(\"\");\n        setLastItem(lastItem + 9);\n    };\n    const closeModalSearch = () => {\n        setShowModalSeacrch(false);\n        document.body.style.overflow = \"auto\";\n    };\n    const closeModalMore = () => {\n        setShowModalMore(false);\n        document.body.style.overflow = \"auto\";\n    };\n    \n    return (\n        <div className=\"container\">\n            <h1>Book finder</h1>\n            <input\n                type=\"text\"\n                onChange={(e) => setSearchText(e.target.value)}\n                value={searchText}\n                placeholder={\"Input book name\"}\n            />\n            <button onClick={searchBook}>Search</button>\n            <div style={{ marginTop: \"20px\" }}>{isLoading && <Loader />}</div>\n            <div className=\"books\">\n                {books ?\n                    books.map((book) => (\n                        <Book\n                            title={book.volumeInfo.title}\n                            authors={book.volumeInfo.authors}\n                            smallimg={book.volumeInfo.imageLinks?.thumbnail}\n                            inStock={book.saleInfo.buyLink}\n                        />\n                    )) : <h1>Empty :(</h1>}\n            </div>\n            {isLoadingMore ? (\n                <Loader />\n            ) : (\n                <button onClick={onPageChanged} style={{ marginTop: \"20px\" }}>\n                    More\n                </button>\n            )}\n            {showModalSeacrch && (\n                <Modal\n                    reason={\"Field is empty\"}\n                    closeModal={closeModalSearch}\n                />\n            )}\n            {showModalMore && (\n                <Modal\n                    reason={\"No more books\"}\n                    closeModal={closeModalMore}\n                />\n            )}\n        </div>\n    );\n}\n\nexport default App;\n\n//AIzaSyDrkICrYDmr7VGdDa3dlc0BvTIus_4fTR4\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}